syntax = "proto3";

package financial.v1;
import "inventory/v1/category.proto";

/**
 * InvoiceLineItem represents one product on an invoice.
 *
 * Fix: Added optional batch_id for lot traceability in accounting.
 */
message InvoiceLineItem {
  string product_id = 1;
  int32 quantity = 2;
  double unit_price = 3;

  double subtotal = 4; // quantity * unit_price
  double tax_rate = 5; // 0.20 for 20% VAT
  double tax_amount = 6;
  double total = 7; // subtotal + tax_amount
  string batch_id = 8; // Optional: Batch/lot referenced
  inventory.v1.Internationalized product_name = 9; // The name of the item
}
